# üìã ICT Engine v6.0 Enterprise - Production Checklist

**üìÖ √öltima actualizaci√≥n:** Septiembre 9, 2025  
**üéØ Versi√≥n:** v6.0 Enterprise SIC  
**‚ö° Tiempo de verificaci√≥n:** 5-15 minutos seg√∫n complejidad  

---

## üéØ **OBJETIVO DEL CHECKLIST**

Esta lista de verificaci√≥n garantiza que el sistema ICT Engine v6.0 est√© **100% listo para trading en producci√≥n** antes de iniciar operaciones reales. 

**üö® REGLA CR√çTICA:** Si cualquier item falla, **NO INICIAR TRADING** hasta resolver el problema.

---

## ‚úÖ **CHECKLIST PRE-TRADING - NIVEL CR√çTICO**

### **üî¥ SECCI√ìN 1: VALIDACI√ìN DEL SISTEMA (OBLIGATORIO)**

#### **1.1 Validaci√≥n Autom√°tica General**
```powershell
# Ejecutar validaci√≥n completa del sistema
python 06-TOOLS\validation_quick_test.py
```
- [ ] **Score >= 80%** ‚úÖ 
- [ ] **Al menos 4/5 tests pasando** ‚úÖ
- [ ] **Sin errores cr√≠ticos de sistema** ‚úÖ
- [ ] **Mensaje: "SISTEMA LISTO PARA FASE 1"** ‚úÖ

**‚ùå Si falla:** Revisar `troubleshooting.md` antes de continuar.

#### **1.2 Verificaci√≥n de Estructura del Proyecto**
```powershell
# Verificar directorios cr√≠ticos
$critical_dirs = @("01-CORE", "04-DATA", "05-LOGS", "06-TOOLS", "09-DASHBOARD")
foreach ($dir in $critical_dirs) {
    if (Test-Path $dir) { Write-Host "‚úÖ $dir" -ForegroundColor Green }
    else { Write-Host "‚ùå $dir FALTANTE" -ForegroundColor Red }
}
```
- [ ] **01-CORE** existe ‚úÖ
- [ ] **04-DATA** existe ‚úÖ  
- [ ] **05-LOGS** existe ‚úÖ
- [ ] **06-TOOLS** existe ‚úÖ
- [ ] **09-DASHBOARD** existe ‚úÖ

#### **1.3 Verificaci√≥n de Configuraciones Cr√≠ticas**
```powershell
# Verificar archivos de configuraci√≥n esenciales
$configs = @(
    "01-CORE\config\log_throttle_config.json",
    "01-CORE\config\risk_management_config.json", 
    "01-CORE\config\timestamp_config.json",
    "01-CORE\config\log_categorization_rules.json"
)
foreach ($config in $configs) {
    if (Test-Path $config) { Write-Host "‚úÖ $(Split-Path $config -Leaf)" -ForegroundColor Green }
    else { Write-Host "‚ùå $(Split-Path $config -Leaf) FALTANTE" -ForegroundColor Red }
}
```
- [ ] **log_throttle_config.json** existe ‚úÖ
- [ ] **risk_management_config.json** existe ‚úÖ
- [ ] **timestamp_config.json** existe ‚úÖ
- [ ] **log_categorization_rules.json** existe ‚úÖ

---

### **üü† SECCI√ìN 2: CONFIGURACI√ìN DE RIESGO (CR√çTICO PARA TRADING)**

#### **2.1 Verificaci√≥n de Par√°metros de Riesgo**
```powershell
python -c "
import json
with open('01-CORE/config/risk_management_config.json', 'r') as f:
    config = json.load(f)
    
max_positions = config.get('max_positions', 0)
max_drawdown = config.get('max_drawdown_percent', 0)
emergency_enabled = config.get('emergency_procedures', {}).get('emergency_stop_enabled', False)

print(f'üìä Max posiciones: {max_positions}')
print(f'üìä Max drawdown: {max_drawdown}%')
print(f'üö® Emergency stop: {emergency_enabled}')

# Validaci√≥n
if max_positions > 0 and max_positions <= 5:
    print('‚úÖ Max posiciones configurado correctamente')
else:
    print('‚ùå Max posiciones fuera de rango seguro (1-5)')
    
if max_drawdown > 0 and max_drawdown <= 10:
    print('‚úÖ Max drawdown configurado correctamente') 
else:
    print('‚ùå Max drawdown fuera de rango seguro (1-10%)')
    
if emergency_enabled:
    print('‚úÖ Emergency stop habilitado')
else:
    print('‚ùå Emergency stop deshabilitado - PELIGROSO')
"
```
- [ ] **Max posiciones: 1-5** (valor seguro) ‚úÖ
- [ ] **Max drawdown: 1-10%** (valor seguro) ‚úÖ  
- [ ] **Emergency stop: habilitado** ‚úÖ
- [ ] **Sin errores en configuraci√≥n** ‚úÖ

#### **2.2 Test de Risk Validator**
```powershell
python -c "
import sys
sys.path.insert(0, '01-CORE')
try:
    from risk_management.risk_validator import RISK_VALIDATOR
    
    # Test con valores seguros
    validation = RISK_VALIDATOR.validate_trade([], 0.0, 0.0)
    
    if validation.get('valid', False):
        print('‚úÖ Risk validator funcionando correctamente')
    else:
        print('‚ùå Risk validator reporta problemas')
        print(f'Violaciones: {validation.get(\"violations\", [])}')
        
except Exception as e:
    print(f'‚ùå Error en risk validator: {e}')
"
```
- [ ] **Risk validator responde correctamente** ‚úÖ
- [ ] **Sin violaciones en estado inicial** ‚úÖ
- [ ] **Validaci√≥n devuelve resultado esperado** ‚úÖ

---

### **üü° SECCI√ìN 3: FUNCIONALIDAD CORE (OBLIGATORIO)**

#### **3.1 Test del Logger Principal**
```powershell
python -c "
import sys
sys.path.insert(0, '01-CORE')
try:
    from smart_trading_logger import SmartTradingLogger
    
    # Crear instancia de test
    logger = SmartTradingLogger('production_test')
    
    # Test de logging b√°sico
    logger.info('Test de producci√≥n - logging funcionando')
    logger.warning('Test de warning')
    
    print('‚úÖ Logger principal funcionando')
    
    # Verificar rate limiting
    if hasattr(logger, '_should_log_message'):
        print('‚úÖ Rate limiting implementado')
    else:
        print('‚ö†Ô∏è Rate limiting no detectado')
        
except Exception as e:
    print(f'‚ùå Error en logger: {e}')
"
```
- [ ] **Logger se inicializa correctamente** ‚úÖ
- [ ] **Logs se escriben sin errores** ‚úÖ
- [ ] **Rate limiting funcionando** ‚úÖ
- [ ] **Sin excepciones durante test** ‚úÖ

#### **3.2 Test del Emergency Handler**
```powershell
python -c "
import sys
sys.path.insert(0, '01-CORE')
try:
    from emergency.emergency_handler import EMERGENCY_HANDLER
    
    # Test b√°sico del handler
    test_result = EMERGENCY_HANDLER.handle_emergency('TEST', {
        'reason': 'Production readiness test',
        'test_mode': True
    })
    
    if test_result:
        print('‚úÖ Emergency handler respondiendo')
        print(f'üìã Tipo de respuesta: {type(test_result)}')
    else:
        print('‚ö†Ô∏è Emergency handler no devolvi√≥ resultado')
        
except Exception as e:
    print(f'‚ùå Error en emergency handler: {e}')
"
```
- [ ] **Emergency handler responde** ‚úÖ
- [ ] **Maneja eventos de test correctamente** ‚úÖ
- [ ] **Sin errores en activaci√≥n** ‚úÖ

#### **3.3 Test de Deduplicaci√≥n de Logs**
```powershell
python -c "
import sys
sys.path.insert(0, '01-CORE')
try:
    from utils.realtime_log_deduplicator import DEDUPLICATOR
    
    # Test de deduplicaci√≥n
    message1 = 'Test message para deduplicaci√≥n'
    message2 = 'Test message para deduplicaci√≥n'  # Duplicado
    message3 = 'Mensaje diferente'
    
    result1 = DEDUPLICATOR.should_log(message1)
    result2 = DEDUPLICATOR.should_log(message2)  # Deber√≠a ser False o limitado
    result3 = DEDUPLICATOR.should_log(message3)
    
    print(f'üìù Primer mensaje: {result1}')
    print(f'üìù Mensaje duplicado: {result2}')
    print(f'üìù Mensaje diferente: {result3}')
    
    if result1 and result3:
        print('‚úÖ Deduplicador funcionando')
    else:
        print('‚ùå Deduplicador bloqueando mensajes v√°lidos')
        
except Exception as e:
    print(f'‚ùå Error en deduplicador: {e}')
"
```
- [ ] **Deduplicador permite mensajes √∫nicos** ‚úÖ
- [ ] **Deduplicador controla duplicados** ‚úÖ
- [ ] **Sin errores en funcionamiento** ‚úÖ

---

### **üîµ SECCI√ìN 4: RECURSOS DEL SISTEMA (IMPORTANTE)**

#### **4.1 Verificaci√≥n de Memoria**
```powershell
python -c "
import psutil

memory = psutil.virtual_memory()
memory_percent = memory.percent
memory_available_gb = memory.available / 1024 / 1024 / 1024

print(f'üíæ Memoria usada: {memory_percent:.1f}%')
print(f'üíæ Memoria disponible: {memory_available_gb:.1f} GB')

if memory_percent < 70:
    print('‚úÖ Memoria en rango normal')
elif memory_percent < 85:
    print('‚ö†Ô∏è Memoria en rango alto - monitorear')
else:
    print('‚ùå Memoria cr√≠tica - no recomendado para trading')
    
if memory_available_gb > 2:
    print('‚úÖ Memoria disponible suficiente')
else:
    print('‚ùå Memoria disponible insuficiente (<2GB)')
"
```
- [ ] **Memoria usada < 70%** (recomendado) ‚úÖ
- [ ] **Memoria disponible > 2GB** ‚úÖ
- [ ] **Sin indicadores de memory leak** ‚úÖ

#### **4.2 Verificaci√≥n de Espacio en Disco**
```powershell
$free_space = (Get-WmiObject -Class Win32_LogicalDisk -Filter "DeviceID='C:'").FreeSpace / 1GB
Write-Host "üíø Espacio libre: $([math]::Round($free_space, 2)) GB"

if ($free_space -gt 5) {
    Write-Host "‚úÖ Espacio suficiente para operaci√≥n" -ForegroundColor Green
} elseif ($free_space -gt 2) {
    Write-Host "‚ö†Ô∏è Espacio limitado - monitorear" -ForegroundColor Yellow
} else {
    Write-Host "‚ùå Espacio cr√≠tico - limpiar antes de trading" -ForegroundColor Red
}
```
- [ ] **Espacio libre > 5GB** (recomendado) ‚úÖ
- [ ] **Sin archivos temporales excesivos** ‚úÖ

#### **4.3 Verificaci√≥n de CPU**
```powershell
python -c "
import psutil
import time

print('‚ö° Midiendo CPU por 5 segundos...')
cpu_percent = psutil.cpu_percent(interval=5)

print(f'‚ö° CPU promedio: {cpu_percent:.1f}%')

if cpu_percent < 50:
    print('‚úÖ CPU en rango normal')
elif cpu_percent < 80:
    print('‚ö†Ô∏è CPU en rango alto - verificar procesos')
else:
    print('‚ùå CPU sobrecargado - no recomendado para trading')
"
```
- [ ] **CPU promedio < 50%** (recomendado) ‚úÖ
- [ ] **Sin procesos consumiendo CPU excesivamente** ‚úÖ

---

### **üü¢ SECCI√ìN 5: CONECTIVIDAD Y DATOS (CR√çTICO PARA TRADING REAL)**

#### **5.1 Test de Conectividad Internet**
```powershell
# Test b√°sico de conectividad
$ping_result = Test-NetConnection -ComputerName "8.8.8.8" -Port 53 -InformationLevel Quiet
if ($ping_result) {
    Write-Host "‚úÖ Conectividad a internet OK" -ForegroundColor Green
} else {
    Write-Host "‚ùå Sin conectividad a internet" -ForegroundColor Red
}
```
- [ ] **Conectividad a internet estable** ‚úÖ
- [ ] **Sin problemas de DNS** ‚úÖ

#### **5.2 Verificaci√≥n de Puertos de Trading (Simulado)**
```powershell
# En producci√≥n, verificar puertos espec√≠ficos de MT5/brokers
Write-Host "üîå Verificando puertos de trading..." -ForegroundColor Cyan

# Puertos comunes de MT5: 443 (HTTPS), 993 (IMAPS), etc.
$trading_ports = @(443, 993)
$port_results = @()

foreach ($port in $trading_ports) {
    try {
        $test = Test-NetConnection -ComputerName "google.com" -Port $port -InformationLevel Quiet -WarningAction SilentlyContinue
        if ($test) {
            Write-Host "‚úÖ Puerto $port accesible" -ForegroundColor Green
            $port_results += $true
        } else {
            Write-Host "‚ùå Puerto $port bloqueado" -ForegroundColor Red
            $port_results += $false
        }
    } catch {
        Write-Host "‚ö†Ô∏è Error probando puerto $port" -ForegroundColor Yellow
        $port_results += $false
    }
}

$successful_ports = ($port_results | Where-Object {$_ -eq $true}).Count
Write-Host "üìä Puertos accesibles: $successful_ports/$($trading_ports.Count)"
```
- [ ] **Puertos cr√≠ticos accesibles** ‚úÖ
- [ ] **Sin bloqueos de firewall** ‚úÖ

#### **5.3 Verificaci√≥n de Datos Hist√≥ricos**
```powershell
# Verificar existencia de datos b√°sicos
Write-Host "üìä Verificando datos hist√≥ricos..." -ForegroundColor Cyan

$data_files = @(
    "04-DATA\memory_persistence",
    "04-DATA\cache", 
    "04-DATA\exports"
)

$data_ok = $true
foreach ($dir in $data_files) {
    if (Test-Path $dir) {
        $files_count = (Get-ChildItem $dir -Recurse -File | Measure-Object).Count
        Write-Host "‚úÖ $dir ($files_count archivos)" -ForegroundColor Green
    } else {
        Write-Host "‚ö†Ô∏è $dir no existe - se crear√° autom√°ticamente" -ForegroundColor Yellow
        New-Item -ItemType Directory -Path $dir -Force | Out-Null
    }
}
```
- [ ] **Directorios de datos existen** ‚úÖ
- [ ] **Sin corrupci√≥n de archivos cr√≠ticos** ‚úÖ

---

### **üü£ SECCI√ìN 6: CONFIGURACI√ìN ESPEC√çFICA DE TRADING**

#### **6.1 Verificaci√≥n de Configuraci√≥n de S√≠mbolos**
```powershell
python -c "
import json
import os

config_file = '01-CORE/config/trading_symbols_config.json'
if os.path.exists(config_file):
    with open(config_file, 'r') as f:
        symbols_config = json.load(f)
    
    print(f'üìà S√≠mbolos configurados: {len(symbols_config.get(\"symbols\", []))}')
    
    # Verificar que hay al menos un s√≠mbolo
    symbols = symbols_config.get('symbols', [])
    if len(symbols) > 0:
        print(f'üìä Primer s√≠mbolo: {symbols[0].get(\"symbol\", \"N/A\")}')
        print('‚úÖ Configuraci√≥n de s√≠mbolos v√°lida')
    else:
        print('‚ö†Ô∏è No hay s√≠mbolos configurados')
else:
    print('‚ö†Ô∏è Archivo de configuraci√≥n de s√≠mbolos no encontrado')
    print('   Usando configuraci√≥n por defecto')
"
```
- [ ] **Al menos 1 s√≠mbolo configurado** ‚úÖ
- [ ] **Configuraci√≥n de s√≠mbolos v√°lida** ‚úÖ

#### **6.2 Verificaci√≥n de Timeframes**
```powershell
python -c "
# Verificar timeframes cr√≠ticos configurados
import json
import os

try:
    # Buscar configuraci√≥n de timeframes en archivos de config
    config_files = [
        '01-CORE/config/ict_patterns_config.json',
        '01-CORE/config/performance_config_enterprise.json'
    ]
    
    timeframes_found = False
    for config_file in config_files:
        if os.path.exists(config_file):
            with open(config_file, 'r') as f:
                config = json.load(f)
                
            # Buscar timeframes en diferentes estructuras
            timeframes = []
            if 'timeframes' in config:
                timeframes = config['timeframes']
            elif 'analysis' in config and 'timeframes' in config['analysis']:
                timeframes = config['analysis']['timeframes']
                
            if timeframes:
                print(f'‚è∞ Timeframes en {os.path.basename(config_file)}: {timeframes}')
                timeframes_found = True
                break
    
    if timeframes_found:
        print('‚úÖ Timeframes configurados')
    else:
        print('‚ö†Ô∏è Timeframes no encontrados - usando defaults (M15, H1, H4)')
        
except Exception as e:
    print(f'‚ö†Ô∏è Error verificando timeframes: {e}')
"
```
- [ ] **Timeframes cr√≠ticos configurados** ‚úÖ  
- [ ] **Al menos M15, H1, H4 disponibles** ‚úÖ

---

## üèÅ **VERIFICACI√ìN FINAL Y DECISI√ìN GO/NO-GO**

### **üìä SCORECARD FINAL**

```powershell
Write-Host "üìä GENERANDO SCORECARD FINAL DE PRODUCCI√ìN" -ForegroundColor Yellow -BackgroundColor Blue
Write-Host "=" * 60

# Ejecutar validaci√≥n final completa
python 06-TOOLS\validation_quick_test.py
$final_validation = $LASTEXITCODE

# Mostrar resultado
if ($final_validation -eq 0) {
    Write-Host "`nüéâ VALIDACI√ìN FINAL: EXITOSA" -ForegroundColor Green -BackgroundColor DarkGreen
    Write-Host "‚úÖ SISTEMA APROBADO PARA TRADING EN PRODUCCI√ìN" -ForegroundColor Green
    Write-Host "üöÄ DECISI√ìN: GO - Puede iniciar trading" -ForegroundColor Green
} else {
    Write-Host "`n‚ùå VALIDACI√ìN FINAL: FALLIDA" -ForegroundColor Red -BackgroundColor DarkRed  
    Write-Host "üö® SISTEMA NO APROBADO PARA PRODUCCI√ìN" -ForegroundColor Red
    Write-Host "üõë DECISI√ìN: NO-GO - Resolver problemas antes de trading" -ForegroundColor Red
}

# Generar timestamp de aprobaci√≥n
$timestamp = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
Write-Host "`nüìÖ Verificaci√≥n completada: $timestamp"
```

### **‚úÖ CRITERIOS DE APROBACI√ìN FINAL**

**üü¢ GO - APROBADO PARA TRADING:**
- ‚úÖ Score de validaci√≥n >= 80%
- ‚úÖ Todos los items cr√≠ticos (üî¥) completados
- ‚úÖ Risk management configurado correctamente
- ‚úÖ Emergency procedures funcionando
- ‚úÖ Recursos del sistema en rango seguro
- ‚úÖ Conectividad estable

**üî¥ NO-GO - NO APROBADO:**
- ‚ùå Score de validaci√≥n < 80%
- ‚ùå Cualquier item cr√≠tico (üî¥) fallando
- ‚ùå Risk management mal configurado
- ‚ùå Emergency procedures no funcionando
- ‚ùå Recursos del sistema en rango cr√≠tico
- ‚ùå Problemas de conectividad

---

## üìã **POST-APROBACI√ìN: PR√ìXIMOS PASOS**

### **üéØ Si APROBADO (GO):**
1. **Documenta la aprobaci√≥n:**
   ```powershell
   $approval_record = @{
       timestamp = Get-Date -Format "yyyy-MM-ddTHH:mm:ss"
       status = "APPROVED"
       validator = $env:USERNAME
       system_score = "80%+"
       notes = "Sistema aprobado para trading en producci√≥n"
   }
   $approval_record | ConvertTo-Json | Out-File -FilePath "03-DOCUMENTATION\reports\production_approval_$(Get-Date -Format 'yyyyMMdd_HHmmss').json"
   ```

2. **Inicia trading con monitoreo:**
   - Comenzar con posiciones peque√±as
   - Monitorear logs activamente
   - Verificar risk management continuamente

3. **Configurar monitoreo continuo:**
   ```powershell
   # Iniciar monitoreo en background
   Start-Process python -ArgumentList "06-TOOLS\continuous_monitoring.py" -WindowStyle Hidden
   ```

### **üõë Si NO APROBADO (NO-GO):**
1. **Documenta los problemas:**
   ```powershell
   Write-Host "üìã Generando reporte de problemas..." -ForegroundColor Red
   python 06-TOOLS\validation_quick_test.py > "production_issues_$(Get-Date -Format 'yyyyMMdd_HHmmss').txt" 2>&1
   ```

2. **Consulta documentaci√≥n:**
   - Revisa `troubleshooting.md` para problemas espec√≠ficos
   - Consulta `emergency-procedures.md` si hay issues cr√≠ticos
   - Vuelve a `quick-start.md` si hay problemas de configuraci√≥n

3. **Re-ejecuta checklist:**
   - Resuelve todos los problemas identificados
   - Vuelve a ejecutar este checklist completo
   - No proceder hasta obtener GO

---

## üîÑ **MANTENIMIENTO CONTINUO**

### **üìÖ Verificaciones Regulares (Recomendado):**
- **Diario:** Ejecutar validaci√≥n r√°pida antes de trading
- **Semanal:** Checklist completo de recursos del sistema  
- **Mensual:** Revisi√≥n completa de configuraciones

### **üö® Re-validaci√≥n Obligatoria:**
- Despu√©s de actualizaciones del sistema
- Despu√©s de cambios en configuraci√≥n de riesgo
- Despu√©s de resolver emergencias cr√≠ticas
- Despu√©s de cambios en el entorno de trading

---

**üéØ OBJETIVO FINAL:** Garantizar operaci√≥n segura y estable del sistema ICT Engine v6.0 en ambiente de producci√≥n.

**‚ö° PRINCIPIO:** M√°s vale prevenir que remediar. Una verificaci√≥n exhaustiva evita p√©rdidas financieras.

**üìû SOPORTE:** En caso de dudas sobre cualquier verificaci√≥n, consultar la documentaci√≥n t√©cnica o escalara soporte especializado.
